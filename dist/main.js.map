{"version":3,"file":"main.js","mappings":"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","sources":["webpack://battleship/./src/modules/UI.js","webpack://battleship/./src/modules/bot.js","webpack://battleship/./src/modules/gameboard.js","webpack://battleship/./src/modules/player.js","webpack://battleship/./src/modules/ship.js","webpack://battleship/webpack/bootstrap","webpack://battleship/webpack/runtime/define property getters","webpack://battleship/webpack/runtime/hasOwnProperty shorthand","webpack://battleship/webpack/runtime/make namespace object","webpack://battleship/./src/modules/index.js"],"sourcesContent":["import Gameboard from \"./gameboard\";\n\nexport function createGrid(grid, size) {\n  for (let i = 0; i < size; i++) {\n    for (let j = 0; j < size; j++) {\n      const cell = document.createElement(\"div\");\n      cell.classList.add(\"cell\", \"water\");\n      cell.dataset.x = i;\n      cell.dataset.y = j;\n      grid.appendChild(cell);\n    }\n  }\n}\n\nexport function updateCellFunc(grid, size, func) {\n  for (let i = 1; i < size ** 2; i++) {\n    const cell = grid.querySelector(`:nth-child(${i})`);\n    cell.replaceWith(cell.cloneNode(true));\n    cell.addEventListener(\"click\", func);\n  }\n}\n\nexport function returnClickedCellCoordinates(grid) {\n  return new Promise((resolve) => {\n    const cells = grid.querySelectorAll(\".cell\");\n\n    const clickHandler = (e) => {\n      cells.forEach((cell) => {\n        cell.removeEventListener(\"click\", clickHandler);\n      });\n      resolve([+e.target.dataset.x, +e.target.dataset.y]);\n    };\n\n    cells.forEach((cell) => {\n      cell.addEventListener(\"click\", clickHandler);\n    });\n  });\n}\n\nexport function renderGrid(grid, board) {\n  let n = 1;\n  for (let i = 0; i < board.length; i++) {\n    for (let j = 0; j < board.length; j++) {\n      const cell = grid.querySelector(`:nth-child(${n})`);\n      if (board[i][j] === Gameboard.waterHit) {\n        cell.classList.add(\"waterHit\");\n      } else if (typeof board[i][j] === \"object\") {\n        cell.classList.add(\"ship\");\n      } else if (board[i][j] === Gameboard.shipHit) {\n        cell.classList.add(\"shipHit\");\n      } else if (board[i][j] === Gameboard.shipSunk) {\n        cell.classList.add(\"shipSunk\");\n      }\n      n++;\n    }\n  }\n}\n\nexport function renderEnemyGrid(grid, board) {\n  let n = 1;\n  for (let i = 0; i < board.length; i++) {\n    for (let j = 0; j < board.length; j++) {\n      const cell = grid.querySelector(`:nth-child(${n})`);\n      if (board[i][j] === Gameboard.waterHit) {\n        cell.classList.add(\"waterHit\");\n      } else if (board[i][j] === Gameboard.shipHit) {\n        cell.classList.add(\"shipHit\");\n      } else if (board[i][j] === Gameboard.shipSunk) {\n        cell.classList.add(\"shipSunk\");\n      }\n      n++;\n    }\n  }\n}\n","import Gameboard from \"./gameboard\";\n\nexport default class Bot {\n  constructor(name, ownBoard, enemyBoard) {\n    this.name = name;\n    this.ownBoard = ownBoard;\n    this.enemyBoard = enemyBoard;\n  }\n\n  checkValidPosition(x, y, dir, len) {\n    return this.ownBoard.checkValidPosition(x, y, dir, len);\n  }\n\n  placeShip(x, y, dir, len) {\n    this.ownBoard.placeShip(x, y, dir, len);\n  }\n\n  attack() {\n    let x;\n    let y;\n    do {\n      x = Math.floor(Math.random() * 10);\n      y = Math.floor(Math.random() * 10);\n    } while (\n      this.enemyBoard.board[x][y] === Gameboard.waterHit ||\n      this.enemyBoard.board[x][y] === Gameboard.shipHit ||\n      this.enemyBoard.board[x][y] === Gameboard.shipSunk\n    );\n\n    this.enemyBoard.receiveAttack(x, y);\n  }\n\n  hasLost() {\n    return this.ownBoard.allShipSunk();\n  }\n\n  placeShips() {\n    let len = 4;\n    let times = 1;\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < times; j++) {\n        const x = Math.floor(Math.random() * 10);\n        const y = Math.floor(Math.random() * 10);\n        const dir = Math.random() > 0.5 ? \"ver\" : \"hor\";\n        const valid = this.checkValidPosition(x, y, dir, len);\n        if (valid) {\n          this.placeShip(x, y, dir, len);\n        } else {\n          j--;\n        }\n      }\n      len--;\n      times++;\n    }\n  }\n}\n","import Ship from \"./ship\";\n\nexport default class Gameboard {\n  static {\n    this.water = 0;\n    this.waterHit = 1;\n    this.shipHit = 2;\n    this.shipSunk = 3;\n  }\n\n  constructor(size, nships) {\n    this.size = size;\n    this.board = [];\n    for (let i = 0; i < size; i++) {\n      this.board.push([]);\n      for (let j = 0; j < size; j++) {\n        this.board[i].push(Gameboard.water);\n      }\n    }\n    this.nships = nships;\n    this.nshipsSunk = 0;\n  }\n\n  checkValidPosition(x, y, dir, len) {\n    if (dir === \"ver\") {\n      if (x + len > this.size) return false;\n      for (let i = x; i < x + len; i++) {\n        if (this.board[i][y] instanceof Ship) return false;\n      }\n    } else if (dir === \"hor\") {\n      if (y + len > this.size) return false;\n      for (let i = y; i < y + len; i++) {\n        if (this.board[x][i] instanceof Ship) return false;\n      }\n    }\n    return true;\n  }\n\n  placeShip(x, y, dir, len) {\n    const shipObj = new Ship(len);\n    if (dir === \"ver\") {\n      for (let i = x; i < x + len; i++) {\n        this.board[i][y] = shipObj;\n      }\n    } else if (dir === \"hor\") {\n      for (let i = y; i < y + len; i++) {\n        this.board[x][i] = shipObj;\n      }\n    }\n  }\n\n  receiveAttack(x, y) {\n    if (this.board[x][y] === Gameboard.water) {\n      this.board[x][y] = Gameboard.waterHit;\n    } else if (this.board[x][y] instanceof Ship) {\n      const ship = this.board[x][y];\n      ship.hit(x, y);\n      if (ship.isSunk()) {\n        this.nshipsSunk++;\n        ship.hits.forEach((coor) => {\n          this.board[coor.x][coor.y] = Gameboard.shipSunk;\n        });\n      } else {\n        this.board[x][y] = Gameboard.shipHit;\n      }\n    }\n  }\n\n  allShipSunk() {\n    return this.nships === this.nshipsSunk;\n  }\n}\n","import Gameboard from \"./gameboard\";\n\nexport default class Player {\n  constructor(name, ownBoard, enemyBoard) {\n    this.name = name;\n    this.ownBoard = ownBoard;\n    this.enemyBoard = enemyBoard;\n  }\n\n  checkValidPosition(x, y, dir, len) {\n    return this.ownBoard.checkValidPosition(x, y, dir, len);\n  }\n\n  checkValidAttack(x, y) {\n    if (\n      this.enemyBoard.board[x][y] === Gameboard.waterHit ||\n      this.enemyBoard.board[x][y] === Gameboard.shipHit ||\n      this.enemyBoard.board[x][y] === Gameboard.shipSunk\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  placeShip(x, y, dir, len) {\n    this.ownBoard.placeShip(x, y, dir, len);\n  }\n\n  attack(x, y) {\n    this.enemyBoard.receiveAttack(x, y);\n  }\n\n  hasLost() {\n    return this.ownBoard.allShipSunk();\n  }\n}\n","export default class Ship {\n  constructor(len) {\n    this.len = len;\n    this.hits = [];\n  }\n\n  hit(x, y) {\n    this.hits.push({ x, y });\n  }\n\n  isSunk() {\n    return this.hits.length === this.len;\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable no-await-in-loop */\n/* eslint-disable prefer-destructuring */\nimport Gameboard from \"./gameboard\";\nimport Player from \"./player\";\nimport Bot from \"./bot\";\nimport {\n  createGrid,\n  updateCellFunc,\n  renderGrid,\n  returnClickedCellCoordinates,\n  renderEnemyGrid,\n} from \"./UI\";\n\nconst grid1 = document.querySelector(\".grid1\");\nconst grid2 = document.querySelector(\".grid2\");\nconst size = 10;\nconst gameboard1 = new Gameboard(size, 10);\nconst gameboard2 = new Gameboard(size, 10);\nconst p1 = new Player(\"pie\", gameboard1, gameboard2);\nconst bot = new Bot(\"bot\", gameboard2, gameboard1);\nconst winMessage = document.querySelector(\".win-message\");\n\nconst flipBut = document.querySelector(\".flip-but\");\nlet flipped = false;\nflipBut.addEventListener(\"click\", () => {\n  flipped = !flipped;\n  flipBut.textContent = flipped ? \"ver\" : \"hor\";\n});\n\nasync function placeShips(grid, board) {\n  let x;\n  let y;\n  let dir;\n  let len = 4;\n  let times = 1;\n  for (let i = 0; i < 4; i++) {\n    for (let j = 0; j < times; j++) {\n      [x, y] = await returnClickedCellCoordinates(grid1);\n      dir = flipped ? \"ver\" : \"hor\";\n      const valid = p1.checkValidPosition(x, y, dir, len);\n      if (valid) {\n        p1.placeShip(x, y, dir, len);\n        renderGrid(grid, board);\n      } else {\n        console.log(\"invalid position, try again\");\n        j--;\n      }\n    }\n    len--;\n    times++;\n  }\n  console.log(\"end\");\n}\n\nasync function battlePhase(gridn1, gridn2, board1, board2) {\n  let x;\n  let y;\n  while (!p1.hasLost() && !bot.hasLost()) {\n    do {\n      [x, y] = await returnClickedCellCoordinates(grid2);\n    } while (!p1.checkValidAttack(x, y));\n    p1.attack(x, y);\n    renderEnemyGrid(grid2, gameboard2.board);\n    bot.attack();\n    renderGrid(gridn1, board1);\n  }\n  winMessage.textContent = p1.hasLost() ? \"YOU LOSE\" : \"YOU WON\";\n}\n\nasync function gameSequence() {\n  createGrid(grid1, size);\n  createGrid(grid2, size);\n  await placeShips(grid1, gameboard1.board);\n  bot.placeShips();\n  await battlePhase(grid1, grid2, gameboard1.board, gameboard2.board);\n}\n\ngameSequence();\n\n// createGrid(grid1, size);\n// createGrid(grid2, size);\n// placeShips(grid1, gameboard1.board);\n// bot.placeShips();\n// battlePhase(grid1, grid2, gameboard1.board, gameboard2.board);\n"],"names":["Gameboard","createGrid","grid","size","i","j","cell","document","createElement","classList","add","dataset","x","y","appendChild","updateCellFunc","func","querySelector","replaceWith","cloneNode","addEventListener","returnClickedCellCoordinates","Promise","resolve","cells","querySelectorAll","clickHandler","e","forEach","removeEventListener","target","renderGrid","board","n","length","waterHit","shipHit","shipSunk","renderEnemyGrid","Bot","constructor","name","ownBoard","enemyBoard","checkValidPosition","dir","len","placeShip","attack","Math","floor","random","receiveAttack","hasLost","allShipSunk","placeShips","times","valid","Ship","nships","push","water","nshipsSunk","shipObj","ship","hit","isSunk","hits","coor","Player","checkValidAttack","grid1","grid2","gameboard1","gameboard2","p1","bot","winMessage","flipBut","flipped","textContent","console","log","battlePhase","gridn1","gridn2","board1","board2","gameSequence"],"sourceRoot":""}